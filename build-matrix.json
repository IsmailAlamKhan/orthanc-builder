{
  "integrationTests": {
    "comment": "# CHANGE_ORTHANC_TESTS_VERSION",
    "stable": "default",
    "unstable": "default"
  },
  "configs": [
    {
      "name": "XXXXX Sample configuration for documentation to list all fields",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc/    path to repo",
      "repoType": "hg                                    or git",
      "sourcesSubPath": "/OrthancServer                  OPTIONAL path to CMakeLists.txt",
      "comment": "# CHANGE_VERSION_XXX",
      "stable": "XXX-1.1                                 Name of the stable branch/tag: used by Docker/Win/OSX if not overriden",
      "unstable": "default                               Name of the unstable branch: used by Docker/Win/OSX if not overriden",
      "stableOSX": "4b8fd4b10742                         OPTIONAL specific stable branch/tag for OSX",
      "unstableOSX": "4b8fd4b10742                       OPTIONAL specific unstable branch/tag for OSX",
      "stableDocker": "4b8fd4b10742                      OPTIONAL specific stable branch/tag for Docker",
      "unstableDocker": "4b8fd4b10742                    OPTIONAL specific unstable branch/tag for Docker",
      "artifactsOSX": "libOrthancGdcm.dylib libZZ.dylib  list of space separated artifacts for OSX",
      "preBuildWin": "                                   OPTIONAL custom pre-build step for OSX",
      "preBuildStableOSX": "                             OPTIONAL custom pre-build step for OSX",
      "preBuildUnstableOSX": "                           OPTIONAL custom pre-build step for OSX",
      "customBuildOSX": "                                OPTIONAL custom pre-build step for OSX",
      "unitTests": "./UnitTests                          OPTIONAL",
      "extraCMakeFlags": "-DORTHANC_SDK_VERSION=1.9.2    OPTIONAL",
      "buildForOSX": false,
      "windows": [
        {
          "Exclude": true,
          "Description": "Osimis Web viewer (AGPL license)",
          "Name": "osimis_web_viewer",
          "Mandatory": false,
          "CheckedComment": "true by default, false if you do not want to install the plugin by default",
          "Checked": false,
          "Category": "osimis",
          "Artifacts64": [
            [
              "OsimisWebViewer 1.4.2 - VC2015-64 Release/OsimisWebViewer.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_WVB"
            ]
          ],
          "Resources": [["webviewer.json", "Configuration"]]
        }
      ]
    },
    {
      "name": "Orthanc",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc/",
      "repoType": "hg",
      "sourcesSubPath": "/OrthancServer",
      "comment": "# CHANGE_VERSION_ORTHANC",
      "stable": "Orthanc-1.12.1",
      "unstable": "default",
      "stableOSX": "Orthanc-1.12.1",
      "artifactsOSX": "Orthanc libModalityWorklists.dylib libServeFolders.dylib libConnectivityChecks.dylib libHousekeeper.dylib libDelayedDeletion.dylib libMultitenantDicom.dylib",
      "unstableArtifactsOSX": "Orthanc libModalityWorklists.dylib libServeFolders.dylib libConnectivityChecks.dylib libHousekeeper.dylib libDelayedDeletion.dylib libMultitenantDicom.dylib",
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON -DUSE_LEGACY_LIBICU=ON -DBOOST_LOCALE_BACKEND=icu",
      "unitTests": "./UnitTests",
      "buildForOSX": true,
      "windows": [
        {
          "Description": "Orthanc server",
          "Mandatory": true,
          "Artifacts64": [
            ["windows-64/orthanc/${VERSION}/Orthanc.exe", "", "Comment: # CHANGE_VERSION_ORTHANC"]
          ],
          "Artifacts32": [
            ["windows-32/orthanc/${VERSION}/Orthanc.exe", "", "Comment: # CHANGE_VERSION_ORTHANC"]
          ]
        },
        {
          "Description": "Modality worklists",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc/${VERSION}/ModalityWorklists.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc/${VERSION}/ModalityWorklists.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Resources": [["worklists.json", "Configuration"]]
        },
        {
          "Description": "Serve folders",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc/${VERSION}/ServeFolders.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc/${VERSION}/ServeFolders.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Resources": [["serve-folders.json", "Configuration"]]
        },
        {
          "Description": "Connectivity checks",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc/${VERSION}/ConnectivityChecks.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc/${VERSION}/ConnectivityChecks.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ]
        },
        {
          "Description": "Housekeeper",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc/${VERSION}/Housekeeper.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc/${VERSION}/Housekeeper.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Resources": [["housekeeper.json", "Configuration"]]
        },
        {
          "Description": "Delayed Deletion",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc/${VERSION}/DelayedDeletion.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc/${VERSION}/DelayedDeletion.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Resources": [["delayed-deletion.json", "Configuration"]]
        },
        {
          "Description": "Multitenant DICOM",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc/${VERSION}/MultitenantDicom.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc/${VERSION}/MultitenantDicom.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ]
        },
        {
          "Description": "Maintenance tool to recover files compressed by Orthanc",
          "Mandatory": false,
          "Category": "tools",
          "Artifacts64": [
            [
              "windows-64/orthanc/${VERSION}/OrthancRecoverCompressedFile.exe",
              "Tools",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc/${VERSION}/OrthancRecoverCompressedFile.exe",
              "Tools",
              "Comment: # CHANGE_VERSION_ORTHANC"
            ]
          ]
        }
      ],
      "downloadsOSX": [
        {
          "url": "https://orthanc.uclouvain.be/downloads/macos/orthanc/${VERSION}/Orthanc",
          "executable": true
        },
        "https://orthanc.uclouvain.be/downloads/macos/orthanc/${VERSION}/ConnectivityChecks.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc/${VERSION}/DelayedDeletion.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc/${VERSION}/Housekeeper.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc/${VERSION}/ModalityWorklists.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc/${VERSION}/MultitenantDicom.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc/${VERSION}/ServeFolders.dylib"
      ]
    },
    {
      "name": "Orthanc-postgresql",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-databases/",
      "repoType": "hg",
      "sourcesSubPath": "/PostgreSQL",
      "comment": "# CHANGE_VERSION_PG",
      "stable": "OrthancPostgreSQL-5.1",
      "unstable": "default",
      "artifactsOSX": "libOrthancPostgreSQLIndex.dylib libOrthancPostgreSQLStorage.dylib",
      "buildForOSX": true,
      "extraCMakeFlags": "-DORTHANC_SDK_VERSION=1.9.2",
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "windows": [
        {
          "Description": "PostgreSQL backend (AGPL license)",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-postgresql/OrthancPostgreSQLIndex-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_PG"
            ],
            [
              "windows-64/orthanc-postgresql/OrthancPostgreSQLStorage-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_PG"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-postgresql/OrthancPostgreSQL-${VERSION}-Index.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_PG"
            ],
            [
              "windows-32/orthanc-postgresql/OrthancPostgreSQL-${VERSION}-Storage.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_PG"
            ]
          ],
          "Resources": [["postgresql.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-postgresql/OrthancPostgreSQLIndex-${VERSION}.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-postgresql/OrthancPostgreSQLStorage-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-mysql",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-databases/",
      "repoType": "hg",
      "sourcesSubPath": "/MySQL",
      "comment": "# CHANGE_VERSION_MYSQL",
      "stable": "OrthancMySQL-5.1",
      "unstable": "default",
      "artifactsOSX": "libOrthancMySQLIndex.dylib libOrthancMySQLStorage.dylib",
      "buildForOSX": true,
      "extraCMakeFlags": "-DORTHANC_SDK_VERSION=1.9.2",
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "windows": [
        {
          "Description": "MySQL backend (AGPL license)",
          "Name": "mysql",
          "Mandatory": false,
          "Category": "osimis",
          "Artifacts64": [
            [
              "windows-64/orthanc-mysql/OrthancMySQLIndex-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_MYSQL"
            ],
            [
              "windows-64/orthanc-mysql/OrthancMySQLStorage-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_MYSQL"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-mysql/OrthancMySQL-${VERSION}-Index.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_MYSQL"
            ],
            [
              "windows-32/orthanc-mysql/OrthancMySQL-${VERSION}-Storage.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_MYSQL"
            ]
          ],
          "Resources": [["mysql.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-mysql/OrthancMySQLIndex-${VERSION}.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-mysql/OrthancMySQLStorage-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-odbc",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-databases/",
      "repoType": "hg",
      "sourcesSubPath": "/Odbc",
      "comment": "# CHANGE_VERSION_ODBC",
      "stable": "OrthancOdbc-1.1",
      "unstable": "default",
      "artifactsOSX": "libOrthancOdbcIndex.dylib libOrthancOdbcStorage.dylib",
      "buildForOSX": true,
      "extraCMakeFlags": "-DORTHANC_SDK_VERSION=1.9.2",
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "windows": [
        {
          "Description": "ODBC backend (AGPL license)",
          "Mandatory": false,
          "Category": "osimis",
          "Artifacts64": [
            [
              "windows-64/orthanc-odbc/OrthancOdbcIndex-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ODBC"
            ],
            [
              "windows-64/orthanc-odbc/OrthancOdbcStorage-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ODBC"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-odbc/OrthancOdbc-${VERSION}-Index.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ODBC"
            ],
            [
              "windows-32/orthanc-odbc/OrthancOdbc-${VERSION}-Storage.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ODBC"
            ]
          ],
          "Resources": [["odbc.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-odbc/OrthancOdbcIndex-${VERSION}.dylib",
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-odbc/OrthancOdbcStorage-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-transfers",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-transfers/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_TRANSFERS",
      "stable": "OrthancTransfers-1.4",
      "unstable": "default",
      "artifactsOSX": "libOrthancTransfers.dylib",
      "buildForOSX": true,
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "unitTests": "./UnitTests",
      "windows": [
        {
          "Description": "Transfers accelerator (AGPL license)",
          "Mandatory": false,
          "Category": "osimis",
          "Artifacts64": [
            [
              "windows-64/orthanc-transfers/OrthancTransfers-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_TRANSFERS"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-transfers/OrthancTransfers-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_TRANSFERS"
            ]
          ],
          "Resources": [["transfers.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-transfers/OrthancTransfers-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-indexer",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-indexer/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_INDEXER",
      "stable": "OrthancIndexer-1.0",
      "unstable": "default",
      "artifactsOSX": "libOrthancIndexer.dylib",
      "buildForOSX": true,
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "windows": [
        {
          "Description": "Folder indexer plugin",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-indexer/OrthancIndexer-Win64-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_INDEXER"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-indexer/OrthancIndexer-Win32-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_INDEXER"
            ]
          ],
          "Resources": [["indexer.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-indexer/OrthancIndexer-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-tcia",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-tcia/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_TCIA",
      "stable": "OrthancTcia-1.1",
      "unstable": "default",
      "artifactsOSX": "libOrthancTcia.dylib",
      "buildForOSX": true,
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "windows": [
        {
          "Description": "The Cancer Imaging Archive plugin",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-tcia/OrthancTcia-Win64-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_TCIA"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-tcia/OrthancTcia-Win32-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_TCIA"
            ]
          ],
          "Resources": [["tcia.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-tcia/OrthancTcia-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-python",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-python/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_PYTHON",
      "stable": "OrthancPython-4.1",
      "unstable": "41cd08e0e878",
      "commentOSX": "# disabled because link fails with ld: cannot link directly with dylib/framework, your binary is not an allowed client of /Applications/Xcode_13.2.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX12.1.sdk/usr/lib/libpython2.7.tbd for architecture x86_64",
      "buildForOSX": false,
      "windows": [{}]
    },
    {
      "name": "Orthanc-python-3-8",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-python/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_PYTHON",
      "stable": "OrthancPython-4.1",
      "unstable": "default",
      "commentOSX": "# disabled because link fails with ld: cannot link directly with dylib/framework, your binary is not an allowed client of /Applications/Xcode_13.2.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX12.1.sdk/usr/lib/libpython2.7.tbd for architecture x86_64",
      "buildForOSX": false,
      "buildForWin": true,
      "extraCMakeFlagsWin": "-DPYTHON_VERSION=3.8 -DPYTHON_WINDOWS_ROOT=C:/hostedtoolcache/windows/Python/3.8.10/x64/",
      "artifactsWin": "OrthancPython.dll",
      "windows": [
        {
          "Description": "Python plugin for Python 3.8 (AGPL license)",
          "Name": "python_3_8",
          "Mandatory": false,
          "Checked": false,
          "Exclusive": true,
          "Category": "python_plugins",
          "Downloads64": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-64/orthanc-python/OrthancPython-Win64-Python3.8-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.8.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ],
          "Downloads32": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-32/orthanc-python/OrthancPython-Win32-Python3.8-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.8.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ],
          "Target": "OrthancPython3.8.dll"
        }
      ]
    },
    {
      "name": "Orthanc-python-3-9",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-python/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_PYTHON",
      "stable": "OrthancPython-4.1",
      "unstable": "default",
      "commentOSX": "# disabled because link fails with ld: cannot link directly with dylib/framework, your binary is not an allowed client of /Applications/Xcode_13.2.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX12.1.sdk/usr/lib/libpython2.7.tbd for architecture x86_64",
      "buildForOSX": false,
      "buildForWin": true,
      "extraCMakeFlagsWin": "-DPYTHON_VERSION=3.9 -DPYTHON_WINDOWS_ROOT=C:/hostedtoolcache/windows/Python/3.9.13/x64/",
      "artifactsWin": "OrthancPython.dll",
      "windows": [
        {
          "Description": "Python plugin for Python 3.9 (AGPL license)",
          "Name": "python_3_9",
          "Mandatory": false,
          "Checked": false,
          "Exclusive": true,
          "Category": "python_plugins",
          "Downloads64": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-64/orthanc-python/OrthancPython-Win64-Python3.9-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.9.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ],
          "Downloads32": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-32/orthanc-python/OrthancPython-Win32-Python3.9-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.9.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ]
        }
      ]
    },
    {
      "name": "Orthanc-python-3-10",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-python/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_PYTHON",
      "stable": "OrthancPython-4.1",
      "unstable": "default",
      "commentOSX": "# disabled because link fails with ld: cannot link directly with dylib/framework, your binary is not an allowed client of /Applications/Xcode_13.2.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX12.1.sdk/usr/lib/libpython2.7.tbd for architecture x86_64",
      "buildForOSX": false,
      "buildForWin": true,
      "extraCMakeFlagsWin": "-DPYTHON_VERSION=3.10 -DPYTHON_WINDOWS_ROOT=C:/hostedtoolcache/windows/Python/3.10.11/x64/",
      "artifactsWin": "OrthancPython.dll",
      "windows": [
        {
          "Description": "Python plugin for Python 3.10 (AGPL license)",
          "Name": "python_3_10",
          "Mandatory": false,
          "Checked": false,
          "Exclusive": true,
          "Category": "python_plugins",
          "Downloads64": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-64/orthanc-python/OrthancPython-Win64-Python3.10-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.10.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ],
          "Downloads32": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-32/orthanc-python/OrthancPython-Win32-Python3.10-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.10.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ]
        }
      ]
    },
    {
      "name": "Orthanc-python-3-11",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-python/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_PYTHON",
      "stable": "OrthancPython-4.1",
      "unstable": "default",
      "commentOSX": "# disabled because link fails with ld: cannot link directly with dylib/framework, your binary is not an allowed client of /Applications/Xcode_13.2.1.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX12.1.sdk/usr/lib/libpython2.7.tbd for architecture x86_64",
      "buildForOSX": false,
      "buildForWin": true,
      "extraCMakeFlagsWin": "-DPYTHON_VERSION=3.11 -DPYTHON_WINDOWS_ROOT=C:/hostedtoolcache/windows/Python/3.11.6/x64/",
      "artifactsWin": "OrthancPython.dll",
      "windows": [
        {
          "Description": "Python plugin for Python 3.11 (AGPL license)",
          "Name": "python_3_11",
          "Mandatory": false,
          "Checked": false,
          "Exclusive": true,
          "Category": "python_plugins",
          "Downloads64": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-64/orthanc-python/OrthancPython-Win64-Python3.11-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.11.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ],
          "Downloads32": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-32/orthanc-python/OrthancPython-Win32-Python3.11-${VERSION}.dll",
              "Plugins",
              "OrthancPython3.11.dll",
              "Comment: # CHANGE_VERSION_PYTHON"
            ]
          ]
        }
      ]
    },
    {
      "name": "Orthanc-stone",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-stone/",
      "repoType": "hg",
      "sourcesSubPath": "/Applications/StoneWebViewer/Plugin",
      "comment": "# CHANGE_VERSION_STONE_WEB_VIEWER",
      "stable": "4087511e8eef",
      "BuildbotVersion": "2.5",
      "unstable": "default",
      "artifactsOSX": "libStoneWebViewer.dylib",
      "commentOSX": "# currently always building with wasm-binaries from latest offical version",
      "buildForOSX": true,
      "preBuildStableOSX": "rm -rf /tmp/downloads/ && mkdir -p /tmp/downloads && wget https://orthanc.osimis.io/nightly-stone-wasm-builds/stable/wasm-binaries.zip --output-document /tmp/downloads/wasm-binaries.zip --quiet && unzip /tmp/downloads/wasm-binaries.zip -d /tmp/downloads",
      "preBuildUnstableOSX": "rm -rf /tmp/downloads/ && mkdir -p /tmp/downloads && wget https://orthanc.osimis.io/nightly-stone-wasm-builds/unstable/wasm-binaries.zip --output-document /tmp/downloads/wasm-binaries.zip --quiet && unzip /tmp/downloads/wasm-binaries.zip -d /tmp/downloads",
      "extraCMakeFlags": "-DORTHANC_STONE_BINARIES=/tmp/downloads/wasm-binaries/StoneWebViewer",
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "windows": [
        {
          "Description": "Stone Web viewer (AGPL license)",
          "Name": "stone_web_viewer",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/stone-web-viewer/StoneWebViewer-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_STONE_WEB_VIEWER"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/stone-web-viewer/StoneWebViewer-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_STONE_WEB_VIEWER"
            ]
          ],
          "Resources": [["stone-webviewer.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/stone-web-viewer/StoneWebViewer-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-dicomweb",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-dicomweb/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_DW",
      "stable": "OrthancDicomWeb-1.15",
      "unstable": "default",
      "artifactsOSX": "libOrthancDicomWeb.dylib",
      "artifactsWin": "OrthancDicomWeb.dll",
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "buildForOSX": true,
      "buildForWin": true,
      "unitTests": "UnitTests",
      "windows": [
        {
          "Description": "DICOMweb support (AGPL license)",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-dicomweb/OrthancDicomWeb-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_DW"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-dicomweb/OrthancDicomWeb-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_DW"
            ]
          ],
          "Resources": [["dicomweb.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-dicomweb/OrthancDicomWeb-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-gdcm",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-gdcm/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_GDCM",
      "stable": "OrthancGdcm-1.5",
      "unstable": "default",
      "stableOSX": "4b8fd4b10742",
      "artifactsOSX": "libOrthancGdcm.dylib",
      "customBuildOSX": "cmake -B $workspace/build-arm64 $extraCMakeFlagsOSX -DCMAKE_OSX_DEPLOYMENT_TARGET=10.9 -DCMAKE_OSX_ARCHITECTURES='arm64' -DALLOW_DOWNLOADS=ON -DCMAKE_BUILD_TYPE:STRING=Release -DSTATIC_BUILD=ON -DSTATIC_BUILD=ON -DUNIT_TESTS_WITH_HTTP_CONNEXIONS:BOOL=OFF -DCMAKE_C_FLAGS='-Wno-implicit-function-declaration'  $workspace/sources$sourcesSubPath             && cd $workspace/build-arm64              && make -j 6             && cmake -B $workspace/build-amd64 $extraCMakeFlagsOSX -DCMAKE_OSX_DEPLOYMENT_TARGET=10.9 -DCMAKE_OSX_ARCHITECTURES='x86_64' -DALLOW_DOWNLOADS=ON -DCMAKE_BUILD_TYPE:STRING=Release -DSTATIC_BUILD=ON -DSTATIC_BUILD=ON -DUNIT_TESTS_WITH_HTTP_CONNEXIONS:BOOL=OFF -DCMAKE_C_FLAGS='-Wno-implicit-function-declaration'  $workspace/sources$sourcesSubPath             && cd $workspace/build-amd64             && make -j 6             && mkdir $workspace/build             && lipo -create -output $workspace/build/libOrthancGdcm.dylib $workspace/build-amd64/libOrthancGdcm.dylib $workspace/build-arm64/libOrthancGdcm.dylib",
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "buildForOSX": true,
      "windows": [
        {
          "Description": "GDCM decoder/transcoder",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-gdcm/OrthancGdcm-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_GDCM"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-gdcm/OrthancGdcm-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_GDCM"
            ]
          ]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-gdcm/OrthancGdcm-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-wsi",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-wsi/",
      "repoType": "hg",
      "sourcesSubPath": "/ViewerPlugin",
      "comment": "# CHANGE_VERSION_WSI",
      "stable": "OrthancWSI-2.0",
      "unstable": "default",
      "commentOSX": "# currently disabled because of error Uncompressing openlayers-3.19.0-dist.zip -> CMake Error at /Users/runner/work/orthanc-builder/orthanc-builder/build/orthanc/OrthancFramework/Resources/CMake/DownloadPackage.cmake:222 (message): The package was not uncompressed at the proper location.",
      "buildForOSX": false,
      "windows": [
        {
          "Description": "Web viewer of whole-slide microscopic images (AGPL license)",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-wsi/OrthancWSI-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_WSI"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-wsi/OrthancWSI-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_WSI"
            ]
          ]
        },
        {
          "Description": "Conversion tools for DICOM whole-slide imaging (AGPL license)",
          "Name": "wsi",
          "Mandatory": false,
          "Category": "tools/wsi",
          "Artifacts64": [
            [
              "windows-64/orthanc-wsi/OrthancWSIDicomizer-${VERSION}.exe",
              "Plugins",
              "Comment: # CHANGE_VERSION_WSI"
            ],
            [
              "windows-64/orthanc-wsi/OrthancWSIDicomToTiff-${VERSION}.exe",
              "Plugins",
              "Comment: # CHANGE_VERSION_WSI"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-wsi/OrthancWSIDicomizer-${VERSION}.exe",
              "Plugins",
              "Comment: # CHANGE_VERSION_WSI"
            ],
            [
              "windows-32/orthanc-wsi/OrthancWSIDicomToTiff-${VERSION}.exe",
              "Plugins",
              "Comment: # CHANGE_VERSION_WSI"
            ]
          ]
        },
        {
          "Description": "OpenSlide support for proprietary formats (LGPL license)",
          "Mandatory": false,
          "Category": "tools/wsi",
          "Downloads64": [
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/iconv.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libcairo-2.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libffi-6.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libgdk_pixbuf-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libgio-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libglib-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libgmodule-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libgobject-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libgthread-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libintl-8.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libjpeg-62.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libopenjp2.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libopenslide-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libpixman-1-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libpng16-16.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libsqlite3-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libtiff-5.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/libxml2-2.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win64/zlib1.dll",
              "Tools"
            ]
          ],
          "Downloads32": [
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/iconv.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libcairo-2.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libffi-6.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libgdk_pixbuf-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libgio-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libglib-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libgmodule-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libgobject-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libgthread-2.0-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libintl-8.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libjpeg-62.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libopenjp2.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libopenslide-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libpixman-1-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libpng16-16.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libsqlite3-0.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libtiff-5.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/libxml2-2.dll",
              "Tools"
            ],
            [
              "https://orthanc.uclouvain.be/downloads/third-party-downloads/WSI/openslide-20160717/win32/zlib1.dll",
              "Tools"
            ]
          ]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-wsi/OrthancWSI-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-webviewer",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-webviewer/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_ORTHANC_WEB_VIEWER",
      "stable": "OrthancWebViewer-2.8",
      "unstable": "default",
      "artifactsOSX": "libOrthancWebViewer.dylib",
      "buildForOSX": true,
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "unitTests": "./UnitTests",
      "windows": [
        {
          "Description": "Web Viewer of medical images (AGPL license)",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-webviewer/OrthancWebViewer-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC_WEB_VIEWER"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-webviewer/OrthancWebViewer-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC_WEB_VIEWER"
            ]
          ]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-webviewer/OrthancWebViewer-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-auth",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-authorization/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_AUTH",
      "stable": "0.6.1",
      "unstable": "default",
      "artifactsOSX": "libOrthancAuthorization.dylib",
      "buildForOSX": false,
      "windows": [
        {
          "Description": "Advanced authorization plugin (AGPL license)",
          "Mandatory": false,
          "Category": "osimis",
          "Artifacts64": [
            [
              "windows-64/orthanc-authorization/OrthancAuthorization-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_AUTH"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-authorization/OrthancAuthorization-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_AUTH"
            ]
          ]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-authorization/OrthancAuthorization-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-azure-storage",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-object-storage/",
      "repoType": "hg",
      "sourcesSubPath": "/Azure",
      "comment": "# CHANGE_VERSION_AZURE_OBJECT_STORAGE",
      "stable": "2.3.0",
      "unstable": "default",
      "artifactsWin": "OrthancAzureBlobStorage.dll",
      "buildForOSX": false,
      "buildForWin": true,
      "preBuildWin": "cd /c/vcpkg && git checkout 2023.06.20 && vcpkg install cryptopp:x64-windows-static azure-storage-blobs-cpp:x64-windows-static",
      "extraCMakeFlagsWin": "-DCMAKE_TOOLCHAIN_FILE=/c/vcpkg/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET=x64-windows-static",
      "windows": [
        {
          "Description": "Orthanc Azure blob storage plugin",
          "Mandatory": false,
          "Category": "plugins",
          "Downloads64": [
            [
              "https://orthanc.uclouvain.be/downloads/windows-64/orthanc-object-storage/OrthancAzureBlobStorage-${VERSION}.dll",
              "Plugins",
              "OrthancAzureBlobStorage.dll",
              "Comment: # CHANGE_VERSION_AZURE_OBJECT_STORAGE"
            ]
          ],
          "Resources": [["azure.json", "Configuration"]]
        }
      ]
    },
    {
      "name": "Orthanc-google-storage",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-object-storage/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_GOOGLE_OBJECT_STORAGE",
      "stable": "2.3.0",
      "unstable": "default",
      "buildForOSX": false,
      "windows": [{}]
    },
    {
      "name": "Orthanc-aws-storage",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-object-storage/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_AWS_OBJECT_STORAGE",
      "stable": "2.3.0",
      "unstable": "default",
      "buildForOSX": false,
      "windows": [{}]
    },
    {
      "name": "Orthanc-explorer-2",
      "repo": "https://github.com/orthanc-server/orthanc-explorer-2/",
      "repoType": "git",
      "comment": "# CHANGE_VERSION_ORTHANC_EXPLORER_2",
      "stable": "1.1.3",
      "unstable": "master",
      "unstableOSX": "1.1.3",
      "comment2": "this plugin has its own build process on Github -> OSX and Win64 are built by Github",
      "buildForOSX": false,
      "artifactsOSX": "libOrthancExplorer2-universal.dylib",
      "rootDownloadForOSX": "https://github.com/orthanc-server/orthanc-explorer-2/releases/download/",
      "windows": [
        {
          "Description": "Orthanc Explorer 2 User Interface",
          "Mandatory": false,
          "Category": "plugins",
          "Comment": "Win64 is coming from Github while Win32 is coming from buildbot",

          "Downloads64": [
            [
              "https://github.com/IsmailAlamKhan/orthanc-explorer-2/releases/download/1.1.4/OrthancExplorer2-win64.dll",
              "Plugins"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-explorer-2/OrthancExplorer2-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_ORTHANC_EXPLORER_2"
            ]
          ],
          "Resources": [["orthanc-explorer-2.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-explorer-2/OrthancExplorer2-${VERSION}.dylib"
      ]
    },
    {
      "name": "osimis-viewer",
      "repo": "https://bitbucket.org/osimis/osimis-webviewer-plugin/",
      "repoType": "git",
      "sourcesSubPath": "/backend",
      "comment": "# CHANGE_VERSION_WVB",
      "stable": "dev",
      "unstable": "dev",
      "BuildbotVersion": "1.4.2",
      "buildForOSX": true,
      "customBuildOSX": "cmake -B $workspace/build-arm64 -DVIEWER_VERSION_FULL=1.4.2-3-g644c3c5 -DORTHANC_FRAMEWORK_VERSION=1.6.1 -DORTHANC_FRAMEWORK_SOURCE=hg -DJS_CLIENT_PATH=/Users/runner/work/orthanc-builder/orthanc-builder/build-arm64/frontend-build -DCMAKE_OSX_DEPLOYMENT_TARGET=10.9 -DCMAKE_OSX_ARCHITECTURES='arm64' -DALLOW_DOWNLOADS=ON -DCMAKE_BUILD_TYPE:STRING=Release -DSTATIC_BUILD=ON -DSTATIC_BUILD=ON -DUNIT_TESTS_WITH_HTTP_CONNEXIONS:BOOL=OFF -DCMAKE_C_FLAGS='-Wno-implicit-function-declaration'  $workspace/sources$sourcesSubPath             && cd $workspace/build-arm64              && make -j 6             && cmake -B $workspace/build-amd64 -DVIEWER_VERSION_FULL=1.4.2-3-g644c3c5 -DORTHANC_FRAMEWORK_VERSION=1.6.1 -DORTHANC_FRAMEWORK_SOURCE=hg -DJS_CLIENT_PATH=/Users/runner/work/orthanc-builder/orthanc-builder/build-amd64/frontend-build -DCMAKE_OSX_DEPLOYMENT_TARGET=10.9 -DCMAKE_OSX_ARCHITECTURES='x86_64' -DALLOW_DOWNLOADS=ON -DCMAKE_BUILD_TYPE:STRING=Release -DSTATIC_BUILD=ON -DSTATIC_BUILD=ON -DUNIT_TESTS_WITH_HTTP_CONNEXIONS:BOOL=OFF -DCMAKE_C_FLAGS='-Wno-implicit-function-declaration'  $workspace/sources$sourcesSubPath             && cd $workspace/build-amd64             && make -j 6             && mkdir $workspace/build             && lipo -create -output $workspace/build/libOsimisWebViewer.dylib $workspace/build-amd64/libOsimisWebViewer.dylib $workspace/build-arm64/libOsimisWebViewer.dylib",
      "unitTests": "./UnitTests",
      "artifactsOSX": "libOsimisWebViewer.dylib",
      "windows": [
        {
          "Description": "Osimis Web viewer (AGPL license)",
          "Name": "osimis_web_viewer",
          "Mandatory": false,
          "Category": "osimis",
          "Artifacts64": [
            [
              "windows-64/osimis-web-viewer/OsimisWebViewer-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_WVB"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/osimis-web-viewer/OsimisWebViewer-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_WVB"
            ]
          ],
          "Resources": [["webviewer.json", "Configuration"]]
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/osimis-web-viewer/OsimisWebViewer-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-neuro",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-neuro/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_NEURO",
      "stable": "OrthancNeuro-1.0",
      "unstable": "default",
      "artifactsOSX": "libOrthancNeuro.dylib",
      "buildForOSX": true,
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "windows": [
        {
          "Description": "Neuroimaging plugin",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-neuro/OrthancNeuro-Win64-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_NEURO"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-neuro/OrthancNeuro-Win32-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_NEURO"
            ]
          ],
          "Resources": []
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-neuro/OrthancNeuro-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-volview",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-volview/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_VOLVIEW",
      "stable": "OrthancVolView-1.1",
      "unstable": "default",
      "artifactsOSX": "libOrthancVolView.dylib",
      "buildForOSX": true,
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "preBuildStableOSX": "rm -rf /tmp/downloads/ && mkdir -p /tmp/downloads && wget https://orthanc.osimis.io/nightly-volview-dist-builds/stable/dist.zip --output-document /tmp/downloads/dist.zip --quiet && mkdir -p ${GITHUB_WORKSPACE}/VolView/dist && unzip /tmp/downloads/dist.zip -d ${GITHUB_WORKSPACE}/sources/VolView/dist",
      "preBuildUnstableOSX": "rm -rf /tmp/downloads/ && mkdir -p /tmp/downloads && wget https://orthanc.osimis.io/nightly-volview-dist-builds/unstable/dist.zip --output-document /tmp/downloads/dist.zip --quiet && mkdir -p ${GITHUB_WORKSPACE}/VolView/dist && unzip /tmp/downloads/dist.zip -d ${GITHUB_WORKSPACE}/sources/VolView/dist",
      "windows": [
        {
          "Description": "Kitware's VolView plugin for Orthanc",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-volview/OrthancVolView-Win64-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_VOLVIEW"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-volview/OrthancVolView-Win32-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_VOLVIEW"
            ]
          ],
          "Resources": []
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-volview/OrthancVolView-${VERSION}.dylib"
      ]
    },
    {
      "name": "Orthanc-ohif",
      "repo": "https://orthanc.uclouvain.be/hg/orthanc-ohif/",
      "repoType": "hg",
      "comment": "# CHANGE_VERSION_OHIF",
      "stable": "OrthancOHIF-1.1",
      "unstable": "default",
      "artifactsOSX": "libOrthancOHIF.dylib",
      "buildForOSX": false,
      "extraCMakeFlagsOSX": "-DUSE_LEGACY_BOOST=ON",
      "preBuildStableOSX": "TODO viewer=Viewers-3.6.0 && rm -rf /tmp/downloads/ && mkdir -p /tmp/downloads && wget https://orthanc.uclouvain.be/third-party-downloads/OHIF/$viewer.tar.gz --output-document /tmp/downloads/dist.tar.gz --quiet && mkdir -p /tmp/ohif && tar xvf /tmp/downloads/dist.tar.gz -C /tmp/ohif && cd /tmp/ohif/$viewer && npm install &&  mkdir -p ${GITHUB_WORKSPACE}/source/OHIF && cp -r /tmp/ohif",
      "preBuildUnstableOSX": "TODO rm -rf /tmp/downloads/ && mkdir -p /tmp/downloads && wget https://orthanc.uclouvain.be/third-party-downloads/OHIF/Viewers-3.6.0.tar.gz --output-document /tmp/downloads/dist.tar.gz --quiet && mkdir -p ${GITHUB_WORKSPACE}/OHIF/dist",
      "windows": [
        {
          "Description": "OHIF plugin for Orthanc",
          "Mandatory": false,
          "Category": "plugins",
          "Artifacts64": [
            [
              "windows-64/orthanc-ohif/OrthancOHIF-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_OHIF"
            ]
          ],
          "Artifacts32": [
            [
              "windows-32/orthanc-ohif/OrthancOHIF-${VERSION}.dll",
              "Plugins",
              "Comment: # CHANGE_VERSION_OHIF"
            ]
          ],
          "Resources": []
        }
      ],
      "downloadsOSX": [
        "https://orthanc.uclouvain.be/downloads/macos/orthanc-ohif/OrthancOHIF-${VERSION}.dylib"
      ]
    }
  ]
}
